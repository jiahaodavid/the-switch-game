{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\shirl\\\\Documents\\\\GitHub\\\\the-switch-game\\\\switch\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport Phaser from 'phaser';\nimport { Blank } from '../objects/Blank';\nimport { Player } from '../objects/Player';\nimport { Card } from '../objects/Card';\nimport { API, graphqlOperation } from 'aws-amplify';\nimport Amplify, { Auth } from 'aws-amplify';\nimport * as mutations from '../../../graphql/mutations';\nimport * as subscriptions from '../../../graphql/subscriptions';\nimport * as queries from '../../../graphql/queries';\nimport { ConsoleLogger } from '@aws-amplify/core';\nimport AWSAppSyncClient, { AUTH_TYPE } from 'aws-appsync';\nimport aws_config from '../../../aws-exports';\nimport gql from 'graphql-tag';\nvar client = new AWSAppSyncClient({\n  url: aws_config.aws_appsync_graphqlEndpoint,\n  region: aws_config.aws_appsync_region,\n  auth: {\n    type: AUTH_TYPE.API_KEY,\n    apiKey: aws_config.aws_appsync_apiKey\n  }\n});\nexport var GameBoard =\n/*#__PURE__*/\nfunction (_Phaser$Scene) {\n  _inherits(GameBoard, _Phaser$Scene);\n\n  function GameBoard() {\n    _classCallCheck(this, GameBoard);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GameBoard).call(this, {\n      key: 'GameBoard'\n    }));\n  }\n\n  _createClass(GameBoard, [{\n    key: \"create\",\n    value: function create() {\n      this.gameBoard = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36]; //display board\n\n      var boardbg = this.add.image(400, 80, 'boardbg');\n      boardbg.setOrigin(0, 0).setScale(2.8, 2.8);\n      var x_pos1 = 0;\n      var y_pos1 = 0;\n\n      for (var i = 0; i < 6; i++) {\n        for (var j = 0; j < 6; j++) {\n          this.blank = new Blank(this, 405 + x_pos1, 85 + y_pos1, 'blank').data.set('card_number', 53);\n          x_pos1 += 65;\n        }\n\n        y_pos1 += 65;\n        x_pos1 = 0;\n      }\n\n      var card_number = 0;\n      var ranNums = [3, 7, 15, 33, 25, 46, 8, 9, 28, 53, 11, 6, 34, 36, 21, 23, 41, 19, 16, 1, 47, 29, 51, 39, 2, 25, 27, 40, 30, 37, 10, 22, 10, 20, 50, 38, 26]; //display board\n\n      var x_pos = 0;\n      var y_pos = 0;\n      this.cardSet = [];\n\n      for (var i = 0; i < 6; i++) {\n        for (var j = 0; j < 6; j++) {\n          var generatecard = ranNums[card_number];\n          this.card = new Card(this, 405 + x_pos, 85 + y_pos, 'cards', generatecard).setOrigin(0, 0).setInteractive().setDataEnabled();\n          this.cardSet.push(this.card);\n          this.card.data.set('card_number', card_number);\n          x_pos += 65;\n          card_number++;\n        }\n\n        y_pos += 65;\n        x_pos = 0;\n      } //add player chess\n\n\n      var player1 = new Player(this, 405, 85, 'chess_red', 1).setOrigin(0, 0);\n      var player2 = new Player(this, 730, 85, 'chess_blue', 2).setOrigin(0, 0);\n      var player3 = new Player(this, 405, 410, 'chess_purple', 3).setOrigin(0, 0);\n      var player4 = new Player(this, 730, 410, 'chess_orange', 4).setOrigin(0, 0);\n      this.player = [];\n      this.player.push(player1);\n      this.player.push(player2);\n      this.player.push(player3);\n      this.player.push(player4);\n      this.userName = ['switch', 'test3', 'test5', 'noviah']; //test 4 player mode\n\n      this.initCardData(-1, 405, 85, this.userName[0], 0, 36);\n      this.initCardData(-1, 730, 85, this.userName[1], 0, 36);\n      this.initCardData(-1, 405, 410, this.userName[2], 0, 36);\n      this.initCardData(-1, 730, 410, this.userName[3], 0, 36);\n      this.playername = this.add.text(500, 50, this.userName[0] + ' turn').setScale(1.5, 1.5); //display player name\n\n      this.name1 = this.add.text(20, 70, this.userName[0]);\n      this.name2 = this.add.text(900, 70, this.userName[1]);\n      this.name3 = this.add.text(20, 370, this.userName[2]);\n      this.name4 = this.add.text(900, 370, this.userName[3]);\n      this.clickedBox(ranNums); //decide poker hands\n\n      this.mygetcard = [0, 16, 25, 26, 40, 2, 3, 4, 5, 13, 39];\n      this.mygetcard.sort();\n      this.numOfEach = [];\n      this.spade = [];\n      this.club = [];\n      this.heart = [];\n      this.dia = [];\n      this.decideSuit(this.mygetcard);\n      this.checkPH(this.mygetcard);\n    } //check if the round is this user's round\n\n  }, {\n    key: \"checkUserInfo\",\n    value: function checkUserInfo(cardNum, name, x, y, seat, cardleft, ifdecrease) {\n      var _this = this;\n\n      Auth.currentUserInfo().then(function (userInfo) {\n        var username = userInfo.username;\n\n        if (name == username) {\n          _this.updateCardData(cardNum, x, y, name);\n\n          if (ifdecrease == 0) {\n            _this.updateRound(seat, cardleft - 1);\n          } else if (ifdecrease == 1) {\n            _this.updateRound(seat, cardleft);\n          }\n        } else {\n          console.log('invalid move');\n        }\n      });\n    }\n  }, {\n    key: \"getuserName\",\n    value: function getuserName() {\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var getUser, name, getRoomID, result, getPlayersInTheRoom, userName;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Auth.currentAuthenticatedUser();\n\n              case 2:\n                getUser = _context.sent;\n                name = getUser.username;\n                _context.next = 6;\n                return API.graphql(graphqlOperation(queries.getQw, {\n                  username: name\n                }));\n\n              case 6:\n                getRoomID = _context.sent;\n                result = getRoomID.data.getQw.roomID;\n                console.log(result);\n                _context.next = 11;\n                return API.graphql(graphqlOperation(queries.getRoompage, {\n                  roomid: result\n                }));\n\n              case 11:\n                getPlayersInTheRoom = _context.sent;\n                userName = getPlayersInTheRoom.data.getRoompage.players;\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    } //switch user between different round\n\n  }, {\n    key: \"round\",\n    value: function () {\n      var _round = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(x, y, cardNum, ifdecrease) {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee2() {\n                  var nameWeGot1, result1, seat, cardleft;\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          // const getUser = await Auth.currentAuthenticatedUser();\n                          // const name = getUser.username;\n                          // const getRoomID = await API.graphql(graphqlOperation(queries.getQw,{\n                          // \t\tusername : name\n                          // }));\n                          // const result = getRoomID.data.getQw.roomID;\n                          // const getPlayersInTheRoom = await API.graphql(graphqlOperation(queries.getRoompage,{\n                          // \t\troomid : result\n                          // }))\n                          // const userName = getPlayersInTheRoom.data.getRoompage.players;\n                          // await client.hydrated();\n                          nameWeGot1 = _this2.userName[0];\n                          _context2.next = 3;\n                          return client.query({\n                            query: gql(queries.getQw),\n                            variables: {\n                              username: nameWeGot1\n                            },\n                            fetchPolicy: 'network-only'\n                          });\n\n                        case 3:\n                          result1 = _context2.sent;\n                          seat = result1.data.getQw.seat;\n                          cardleft = result1.data.getQw.cardLeft;\n                          console.log('the recent seat' + seat);\n\n                          if (x == _this2.player[seat % 4].x || y == _this2.player[seat % 4].y) {\n                            _this2.checkUserInfo(cardNum, _this2.userName[seat % 4], x, y, seat, cardleft, ifdecrease);\n                          }\n\n                        case 8:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }))();\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function round(_x, _x2, _x3, _x4) {\n        return _round.apply(this, arguments);\n      }\n\n      return round;\n    }() // get username list apply to round function\n    //move to next player\n\n  }, {\n    key: \"updateRound\",\n    value: function () {\n      var _updateRound = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(theSeat, theCard) {\n        var thething, newThing;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // const getUser = await Auth.currentAuthenticatedUser();\n                // \tconst name = getUser.username;\n                // \tconst getRoomID = await API.graphql(graphqlOperation(queries.getQw,{\n                // \t\t\tusername : name\n                // \t}));\n                // \tconst result = getRoomID.data.getQw.roomID;\n                // \tconst getPlayersInTheRoom = await API.graphql(graphqlOperation(queries.getRoompage,{\n                // \t\t\troomid : result\n                // \t}))\n                // \tconst userName = getPlayersInTheRoom.data.getRoompage.players;\n                thething = {\n                  username: this.userName[0],\n                  seat: theSeat + 1,\n                  cardLeft: theCard\n                };\n                _context4.next = 3;\n                return API.graphql(graphqlOperation(mutations.updateQw, {\n                  input: thething\n                }));\n\n              case 3:\n                newThing = _context4.sent;\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function updateRound(_x5, _x6) {\n        return _updateRound.apply(this, arguments);\n      }\n\n      return updateRound;\n    }() //initialize the player's data\n\n  }, {\n    key: \"initCardData\",\n    value: function () {\n      var _initCardData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(card, x, y, theusername, theSeat, cardleft) {\n        var cardV, xV, yV, name, cl, thething, newThing;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                cardV = card;\n                console.log(cardV);\n                xV = x;\n                console.log(\"x : \" + xV);\n                yV = y;\n                console.log(\"y : \" + yV);\n                name = theusername;\n                console.log('your name : ' + name);\n                cl = cardleft;\n                thething = {\n                  username: name,\n                  whichCard: cardV,\n                  x: xV,\n                  y: yV,\n                  seat: theSeat,\n                  cardLeft: cl\n                };\n                _context5.next = 12;\n                return API.graphql(graphqlOperation(mutations.updateQw, {\n                  input: thething\n                }));\n\n              case 12:\n                newThing = _context5.sent;\n\n              case 13:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function initCardData(_x7, _x8, _x9, _x10, _x11, _x12) {\n        return _initCardData.apply(this, arguments);\n      }\n\n      return initCardData;\n    }() //when move, update data to database\n\n  }, {\n    key: \"updateCardData\",\n    value: function () {\n      var _updateCardData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(card, x, y, name) {\n        var cardV, xV, yV, thething, newThing;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                cardV = card;\n                xV = x;\n                yV = y;\n                thething = {\n                  username: name,\n                  whichCard: cardV,\n                  x: xV,\n                  y: yV\n                };\n                _context6.next = 6;\n                return API.graphql(graphqlOperation(mutations.updateQw, {\n                  input: thething\n                }));\n\n              case 6:\n                newThing = _context6.sent;\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function updateCardData(_x13, _x14, _x15, _x16) {\n        return _updateCardData.apply(this, arguments);\n      }\n\n      return updateCardData;\n    }() //click the card and make it move\n\n  }, {\n    key: \"clickedBox\",\n    value: function clickedBox(ranNums) {\n      var _this3 = this;\n\n      this.input.on('gameobjectdown', function (pointer, gameObject) {\n        for (var i = 0; i < 36; i++) {\n          if (_this3.gameBoard[i] == i) {\n            if (gameObject.data.get('card_number') == i) {\n              _this3.round(gameObject.x, gameObject.y, i, 0);\n\n              _this3.CardLeft--;\n              break;\n            } else if (gameObject.data.get('card_number') == 53) {\n              _this3.round(gameObject.x, gameObject.y, -1, 1);\n\n              break;\n            }\n          }\n        }\n      });\n    } //function to get data from db and update the screen\n\n  }, {\n    key: \"updateScreen\",\n    value: function () {\n      var _updateScreen = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee8() {\n        var _this4 = this;\n\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee7() {\n                  var nameWeGot1, result1, nameWeGot2, result2, nameWeGot3, result3, nameWeGot4, result4, x1, y1, x2, y2, x3, y3, x4, y4, arrange, cardleft;\n                  return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                    while (1) {\n                      switch (_context7.prev = _context7.next) {\n                        case 0:\n                          _context7.next = 2;\n                          return client.hydrated();\n\n                        case 2:\n                          // const getUser = await Auth.currentAuthenticatedUser();\n                          // const name = getUser.username;\n                          // const getRoomID = await API.graphql(graphqlOperation(queries.getQw,{\n                          // \t\tusername : name\n                          // }));\n                          // const result = getRoomID.data.getQw.roomID;\n                          // const getPlayersInTheRoom = await API.graphql(graphqlOperation(queries.getRoompage,{\n                          // \t\troomid : result\n                          // }))\n                          // const userName = getPlayersInTheRoom.data.getRoompage.players;\n                          nameWeGot1 = _this4.userName[0];\n                          _context7.next = 5;\n                          return client.query({\n                            query: gql(queries.getQw),\n                            variables: {\n                              username: nameWeGot1\n                            },\n                            fetchPolicy: 'network-only'\n                          });\n\n                        case 5:\n                          result1 = _context7.sent;\n                          nameWeGot2 = _this4.userName[1];\n                          _context7.next = 9;\n                          return client.query({\n                            query: gql(queries.getQw),\n                            variables: {\n                              username: nameWeGot2\n                            },\n                            fetchPolicy: 'network-only'\n                          });\n\n                        case 9:\n                          result2 = _context7.sent;\n                          nameWeGot3 = _this4.userName[2];\n                          _context7.next = 13;\n                          return client.query({\n                            query: gql(queries.getQw),\n                            variables: {\n                              username: nameWeGot3\n                            },\n                            fetchPolicy: 'network-only'\n                          });\n\n                        case 13:\n                          result3 = _context7.sent;\n                          nameWeGot4 = _this4.userName[3];\n                          _context7.next = 17;\n                          return client.query({\n                            query: gql(queries.getQw),\n                            variables: {\n                              username: nameWeGot4\n                            },\n                            fetchPolicy: 'network-only'\n                          });\n\n                        case 17:\n                          result4 = _context7.sent;\n                          x1 = result1.data.getQw.x;\n                          y1 = result1.data.getQw.y;\n                          x2 = result2.data.getQw.x;\n                          y2 = result2.data.getQw.y;\n                          x3 = result3.data.getQw.x;\n                          y3 = result3.data.getQw.y;\n                          x4 = result4.data.getQw.x;\n                          y4 = result4.data.getQw.y;\n\n                          _this4.player[0].setX(x1);\n\n                          _this4.player[0].setY(y1);\n\n                          _this4.player[1].setX(x2);\n\n                          _this4.player[1].setY(y2);\n\n                          _this4.player[2].setX(x3);\n\n                          _this4.player[2].setY(y3);\n\n                          _this4.player[3].setX(x4);\n\n                          _this4.player[3].setY(y4);\n\n                          _this4.playername.text = _this4.userName[result1.data.getQw.seat % 4] + ' turn';\n                          arrange = result1.data.getQw.seat;\n                          cardleft = result1.data.getQw.cardLeft;\n\n                          if (result1.data.getQw.whichCard != -1) {\n                            _this4.cardSet[result1.data.getQw.whichCard].setX(20 + arrange * 10);\n\n                            _this4.cardSet[result1.data.getQw.whichCard].setY(100);\n                          }\n\n                          if (result2.data.getQw.whichCard != -1) {\n                            _this4.cardSet[result2.data.getQw.whichCard].setX(900 + arrange * 10);\n\n                            _this4.cardSet[result2.data.getQw.whichCard].setY(100);\n                          }\n\n                          if (result3.data.getQw.whichCard != -1) {\n                            _this4.cardSet[result3.data.getQw.whichCard].setX(20 + arrange * 10);\n\n                            _this4.cardSet[result3.data.getQw.whichCard].setY(400);\n                          }\n\n                          if (result4.data.getQw.whichCard != -1) {\n                            _this4.cardSet[result4.data.getQw.whichCard].setX(900 + arrange * 10);\n\n                            _this4.cardSet[result4.data.getQw.whichCard].setY(400);\n                          }\n\n                          if (cardleft <= 0) {\n                            _this4.newBoard = _this4.add.image(400, 80, 'boardbg');\n\n                            _this4.newBoard.setOrigin(0, 0).setScale(2.8, 2.8);\n\n                            _this4.playername.text = 'Game Over';\n                          }\n\n                        case 42:\n                        case \"end\":\n                          return _context7.stop();\n                      }\n                    }\n                  }, _callee7);\n                }))();\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function updateScreen() {\n        return _updateScreen.apply(this, arguments);\n      }\n\n      return updateScreen;\n    }()\n  }, {\n    key: \"ifHas\",\n    value: function ifHas(the_card_get, num) {\n      var result = [];\n\n      switch (num) {\n        case 1:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 0;\n          });\n          break;\n\n        case 2:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 1;\n          });\n          break;\n\n        case 3:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 2;\n          });\n          break;\n\n        case 4:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 3;\n          });\n          break;\n\n        case 5:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 4;\n          });\n          break;\n\n        case 6:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 5;\n          });\n          break;\n\n        case 7:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 6;\n          });\n          break;\n\n        case 8:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 7;\n          });\n          break;\n\n        case 9:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 8;\n          });\n          break;\n\n        case 10:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 9;\n          });\n          break;\n\n        case 11:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 10;\n          });\n          break;\n\n        case 12:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 11;\n          });\n          break;\n\n        case 13:\n          result = the_card_get.filter(function (the_card_get) {\n            return the_card_get % 13 == 12;\n          });\n          break;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"decideSuit\",\n    value: function decideSuit(the_card_get) {\n      for (var i = 0; i < the_card_get.length; i++) {\n        if (the_card_get[i] >= 0 && the_card_get[i] <= 12) {\n          this.spade.push(the_card_get[i]);\n        } else if (the_card_get[i] >= 13 && the_card_get[i] <= 25) {\n          this.club.push(the_card_get[i]);\n        } else if (the_card_get[i] >= 26 && the_card_get[i] <= 38) {\n          this.dia.push(the_card_get[i]);\n        } else {\n          this.heart.push(the_card_get[i]);\n        }\n      }\n    }\n  }, {\n    key: \"checkPH\",\n    value: function checkPH(the_card_get) {\n      this.rank = 0;\n\n      for (var m = 1; m <= 13; m++) {\n        this.numOfEach.push(this.ifHas(the_card_get, m).length);\n      }\n\n      console.log(this.numOfEach);\n\n      if (this.numOfEach.includes(4) && this.rank == 0) {\n        console.log('4 of a kind');\n        this.rank = 1;\n      }\n\n      if (this.numOfEach.includes(3) && this.numOfEach.includes(2) && this.rank == 0) {\n        console.log('full house');\n        this.rank = 2;\n      }\n\n      if (this.spade.length >= 5 || this.club.length >= 5 || this.heart.length >= 5 || this.dia.length >= 5 && this.rank == 0) {\n        console.log('Flush');\n        this.rank = 3;\n      }\n\n      if (this.numOfEach.includes(3) && !this.numOfEach.includes(2) && this.rank == 0) {\n        console.log('three of a kind');\n        this.rank = 4;\n      }\n\n      if (!this.numOfEach.includes(3) && this.numOfEach.includes(2) && this.rank == 0) {\n        console.log('pair');\n        this.rank = 5;\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(time, delta) {//this.updateScreen()\n    }\n  }]);\n\n  return GameBoard;\n}(Phaser.Scene);","map":{"version":3,"sources":["C:\\Users\\shirl\\Documents\\GitHub\\the-switch-game\\switch\\src\\Pages\\phaser\\scenes\\GameBoard.js"],"names":["Phaser","Blank","Player","Card","API","graphqlOperation","Amplify","Auth","mutations","subscriptions","queries","ConsoleLogger","AWSAppSyncClient","AUTH_TYPE","aws_config","gql","client","url","aws_appsync_graphqlEndpoint","region","aws_appsync_region","auth","type","API_KEY","apiKey","aws_appsync_apiKey","GameBoard","key","gameBoard","boardbg","add","image","setOrigin","setScale","x_pos1","y_pos1","i","j","blank","data","set","card_number","ranNums","x_pos","y_pos","cardSet","generatecard","card","setInteractive","setDataEnabled","push","player1","player2","player3","player4","player","userName","initCardData","playername","text","name1","name2","name3","name4","clickedBox","mygetcard","sort","numOfEach","spade","club","heart","dia","decideSuit","checkPH","cardNum","name","x","y","seat","cardleft","ifdecrease","currentUserInfo","then","userInfo","username","updateCardData","updateRound","console","log","currentAuthenticatedUser","getUser","graphql","getQw","getRoomID","result","roomID","getRoompage","roomid","getPlayersInTheRoom","players","nameWeGot1","query","variables","fetchPolicy","result1","cardLeft","checkUserInfo","theSeat","theCard","thething","updateQw","input","newThing","theusername","cardV","xV","yV","cl","whichCard","on","pointer","gameObject","get","round","CardLeft","hydrated","nameWeGot2","result2","nameWeGot3","result3","nameWeGot4","result4","x1","y1","x2","y2","x3","y3","x4","y4","setX","setY","arrange","newBoard","the_card_get","num","filter","length","rank","m","ifHas","includes","time","delta","Scene"],"mappings":"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","sourcesContent":["import Phaser from 'phaser';\r\nimport {Blank} from '../objects/Blank';\r\nimport {Player} from '../objects/Player';\r\nimport {Card} from '../objects/Card';\r\nimport { API, graphqlOperation } from 'aws-amplify';\r\nimport Amplify, { Auth } from 'aws-amplify';\r\nimport * as mutations from '../../../graphql/mutations';\r\nimport * as subscriptions from '../../../graphql/subscriptions'\r\nimport * as queries from '../../../graphql/queries'\r\n\r\nimport { ConsoleLogger } from '@aws-amplify/core';\r\nimport AWSAppSyncClient, { AUTH_TYPE } from 'aws-appsync';\r\nimport aws_config from '../../../aws-exports';\r\nimport gql from 'graphql-tag';\r\n\r\nconst client = new AWSAppSyncClient({\r\n  url: aws_config.aws_appsync_graphqlEndpoint,\r\n  region: aws_config.aws_appsync_region,\r\n  auth: {\r\n    type: AUTH_TYPE.API_KEY,\r\n    apiKey: aws_config.aws_appsync_apiKey,\r\n  }\r\n});\r\n\r\nexport class GameBoard extends Phaser.Scene {\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\tkey: 'GameBoard',\r\n\t\t});\r\n\t\t\r\n\r\n\t}\r\n\t\r\n\r\n\tcreate() {\r\n\t\tthis.gameBoard = [0,1,2,3,4,5,6,7,8,9,10,\r\n\t\t\t11,12,13,14,15,16,17,18,19,20,21,22,\r\n\t\t\t23,24,25,26,27,28,29,30,31,32,33,34,35,36];\r\n\t\t\r\n        //display board\r\n\t\tlet boardbg = this.add.image(400, 80, 'boardbg');\r\n\t\tboardbg.setOrigin(0, 0).setScale(2.8,2.8);\r\n\t\tlet x_pos1=0;\r\n\t\tlet y_pos1=0;\r\n\t\tfor(var i=0;i<6;i++){\r\n\t\t\tfor(var j=0 ;j<6;j++){\r\n\t\t\t   this.blank=new Blank(this,405+x_pos1,85+y_pos1,'blank').data.set('card_number', 53);\r\n\t\t\t\tx_pos1+=65;\r\n\t\t\t }\r\n\t\t\t   y_pos1+=65;\r\n\t\t\t   x_pos1=0;\r\n\t\t\t }\r\n\t\t\t \r\n\t\tlet card_number=0;\r\n\t\tlet ranNums=[3,7,15,33,25,46,8,9,28,53,11,6,34,36,21,23,41,19,16,1,47,29,51,39,2,25,27,40,30,\r\n\t\t              37,10,22,10,20,50,38,26]\r\n\t   //display board\r\n\t\t\tlet x_pos=0;\r\n\t\t\tlet y_pos=0; \r\n\t\t\tthis.cardSet=[] \r\n\t\t  for(var i=0;i<6;i++){\r\n\t\t\tfor(var j=0 ;j<6;j++){\r\n\t\t\t   var generatecard=ranNums[card_number]\r\n\t\t\t\t this.card=new Card(this,405+x_pos,85+y_pos,'cards',generatecard).setOrigin(0, 0).setInteractive().setDataEnabled()\r\n\t\t\t\t this.cardSet.push(this.card)\r\n\t\t\t   this.card.data.set('card_number', card_number);\r\n\t\t\t\tx_pos+=65;\r\n\t\t\t\tcard_number++;\r\n\t\t\t }\r\n\t\t\t   y_pos+=65;\r\n\t\t\t   x_pos=0;\r\n\t\t\t }\r\n\t\t\t \r\n\t\t\t //add player chess\r\n\t\t\t let player1=new Player(this,405,85,'chess_red',1).setOrigin(0,0)\r\n\t\t\t let player2=new Player(this,730,85,'chess_blue',2).setOrigin(0,0)\r\n\t\t\t let player3=new Player(this,405,410,'chess_purple',3).setOrigin(0,0)\r\n\t\t\t let player4=new Player(this,730,410,'chess_orange',4).setOrigin(0,0)\r\n\r\n\t\t\t this.player=[]\r\n\t\t\t this.player.push(player1)\r\n\t\t\t this.player.push(player2)\r\n\t\t\t this.player.push(player3)\r\n\t\t\t this.player.push(player4)\r\n\r\n\r\n\t\t\r\n\t\tthis.userName=['switch','test3','test5','noviah']\r\n\r\n\t\t//test 4 player mode\r\n\t\tthis.initCardData(-1,405,85,this.userName[0],0,36)\r\n\t\tthis.initCardData(-1,730,85,this.userName[1],0,36)\r\n\t\tthis.initCardData(-1,405,410,this.userName[2],0,36)\r\n\t\tthis.initCardData(-1,730,410,this.userName[3],0,36)\r\n\t\tthis.playername=this.add.text(500,50,this.userName[0]+' turn').setScale(1.5,1.5)\t\r\n\r\n\t\t//display player name\r\n\t\tthis.name1=this.add.text(20,70,this.userName[0])\r\n\t\tthis.name2=this.add.text(900,70,this.userName[1])\r\n\t\tthis.name3=this.add.text(20,370,this.userName[2])\r\n\t\tthis.name4=this.add.text(900,370,this.userName[3])\r\n\t\r\n\t\tthis.clickedBox(ranNums)\r\n\r\n//decide poker hands\r\n\t\tthis.mygetcard=[0,16,25,26,40,2,3,4,5,13,39]\r\n\t\tthis.mygetcard.sort()\r\n\t\tthis.numOfEach=[]\r\n\t\tthis.spade=[]\r\n\t\tthis.club=[]\r\n\t\tthis.heart=[]\r\n\t\tthis.dia=[]\r\n\t\tthis.decideSuit(this.mygetcard)\r\n\t\tthis.checkPH(this.mygetcard)\r\n\t\t   \r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n//check if the round is this user's round\r\n\tcheckUserInfo(cardNum,name,x,y,seat,cardleft,ifdecrease) {\r\n\t\t\tAuth.currentUserInfo().then((userInfo) => {\r\n\t\t\t\tconst { username } = userInfo;\r\n\t\t\t\tif(name==username){\r\n\t\t\t\t\tthis.updateCardData(cardNum,x,y,name)\r\n\t\t\t\t\tif(ifdecrease==0){\r\n\t\t\t\t\tthis.updateRound(seat,cardleft-1)\r\n\t\t\t\t\t}else if(ifdecrease==1){\r\n\t\t\t\t\t\tthis.updateRound(seat,cardleft)\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log('invalid move')\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\r\n\r\ngetuserName(){\r\n\t(async () => {\r\n\t\tconst getUser = await Auth.currentAuthenticatedUser();\r\n\t\tconst name = getUser.username;\r\n\t\tconst getRoomID = await API.graphql(graphqlOperation(queries.getQw,{\r\n\t\t\t\tusername : name\r\n\t\t}));\r\n\t\t\r\n\t\tconst result = getRoomID.data.getQw.roomID;\r\n\t\tconsole.log(result)\r\n\t\tconst getPlayersInTheRoom = await API.graphql(graphqlOperation(queries.getRoompage,{\r\n\t\t\t\troomid : result\r\n\t\t}))\r\n\t\t\r\n\t\tconst userName = getPlayersInTheRoom.data.getRoompage.players;\r\n})();\r\n}\r\n\r\n\r\n//switch user between different round\r\nasync round(x,y,cardNum,ifdecrease){\r\n\t(async () => { \r\n\t\t// const getUser = await Auth.currentAuthenticatedUser();\r\n\t\t// const name = getUser.username;\r\n\t\t// const getRoomID = await API.graphql(graphqlOperation(queries.getQw,{\r\n\t\t// \t\tusername : name\r\n\t\t// }));\r\n\t\t// const result = getRoomID.data.getQw.roomID;\r\n\t\t// const getPlayersInTheRoom = await API.graphql(graphqlOperation(queries.getRoompage,{\r\n\t\t// \t\troomid : result\r\n\t\t// }))\r\n\t\t// const userName = getPlayersInTheRoom.data.getRoompage.players;\r\n    // await client.hydrated();\r\n\t\tvar nameWeGot1 = this.userName[0];\r\n\t\tconst result1 = await client.query({\r\n\t\t\tquery: gql(queries.getQw),\r\n\t\t\tvariables: {\r\n\t\t\t\tusername: nameWeGot1\r\n\t\t\t},\r\n\t\t\tfetchPolicy: 'network-only',\r\n\t\t});\r\n\t\tconst seat=result1.data.getQw.seat\r\n\t\tconst cardleft=result1.data.getQw.cardLeft\r\n\t\tconsole.log('the recent seat'+seat)\r\n\t\t if(x==this.player[seat%4].x||y==this.player[seat%4].y){\r\n\t\t\tthis.checkUserInfo(cardNum,this.userName[seat%4],x,y,seat,cardleft,ifdecrease)\r\n\t\t }\r\n\t})();\r\n}\r\n\r\n// get username list apply to round function\r\n\r\n//move to next player\r\nasync updateRound(theSeat,theCard){\r\n  // const getUser = await Auth.currentAuthenticatedUser();\r\n\t// \tconst name = getUser.username;\r\n\t// \tconst getRoomID = await API.graphql(graphqlOperation(queries.getQw,{\r\n\t// \t\t\tusername : name\r\n\t// \t}));\r\n\t// \tconst result = getRoomID.data.getQw.roomID;\r\n\t// \tconst getPlayersInTheRoom = await API.graphql(graphqlOperation(queries.getRoompage,{\r\n\t// \t\t\troomid : result\r\n\t// \t}))\r\n\t// \tconst userName = getPlayersInTheRoom.data.getRoompage.players;\r\n\r\n\tconst thething = {\r\n\t\t\t\tusername : this.userName[0],\r\n\t\t\t\tseat:theSeat+1,\r\n\t\t\t\tcardLeft:theCard\r\n\t\t\t\t\t};\r\n const newThing = await API.graphql(graphqlOperation(mutations.updateQw, {input: thething}));\r\n}\r\n\r\n//initialize the player's data\r\nasync initCardData(card,x,y,theusername,theSeat,cardleft){\r\n\tconst cardV = card;\r\n\tconsole.log(cardV)\r\n\tconst xV =x;\r\n\tconsole.log(\"x : \"+xV)\r\n\tconst yV = y;\r\n\tconsole.log(\"y : \"+yV);\r\n\tconst name = theusername;\r\n\tconsole.log('your name : ' +name);\r\n\tconst cl=cardleft\r\n\tconst thething = {\r\n\t\t\t\tusername : name,\r\n\t\t\t\twhichCard : cardV,\r\n\t\t\t\t\t\tx : xV,\r\n\t\t\t\t\t\ty : yV,\r\n\t\t\t\t\t\tseat: theSeat,\r\n\t\t\t\t\t\tcardLeft:cl\r\n\t\t\t\t\t};\r\n const newThing = await API.graphql(graphqlOperation(mutations.updateQw, {input: thething}));\r\n}\r\n\t\r\n//when move, update data to database\r\n\tasync updateCardData(card,x,y,name){\r\n\t\tconst cardV = card;\r\n\t\tconst xV =x;\r\n\t\tconst yV = y;\r\n\t\tconst thething = {\r\n\t\t\t\t\tusername : name,\r\n\t\t\t\t\twhichCard : cardV,\r\n\t\t\t\t\t\t\tx : xV,\r\n\t\t\t\t\t\t\ty : yV,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t};\r\n\t const newThing = await API.graphql(graphqlOperation(mutations.updateQw, {input: thething}));\r\n\t}\r\n\r\n\r\n\t//click the card and make it move\r\n\tclickedBox(ranNums){\r\n\t\tthis.input.on('gameobjectdown', (pointer, gameObject) => {\r\n\t\t\tfor(var i=0;i<36;i++){\r\n\t\t\t\tif(this.gameBoard[i] == i ){\r\n\t\t\t\t\t\tif(gameObject.data.get('card_number') == i){\r\n\t\t\t\t\t\t\t\tthis.round(gameObject.x,gameObject.y,i,0)\r\n\t\t\t\t\t\t\t\tthis.CardLeft--;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}else if(gameObject.data.get('card_number') == 53){\r\n\t\t\t\t\t\t\tthis.round(gameObject.x,gameObject.y,-1,1)\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t});\r\n\t}\t\r\n\t\r\n\r\n\t\t\r\n\r\n\r\n//function to get data from db and update the screen\r\n\r\nasync updateScreen(){\r\n\t(async () => { \r\n \r\n\t\tawait client.hydrated();\r\n\r\n\t\t// const getUser = await Auth.currentAuthenticatedUser();\r\n\t\t// const name = getUser.username;\r\n\t\t// const getRoomID = await API.graphql(graphqlOperation(queries.getQw,{\r\n\t\t// \t\tusername : name\r\n\t\t// }));\r\n\t\t// const result = getRoomID.data.getQw.roomID;\r\n\t\t// const getPlayersInTheRoom = await API.graphql(graphqlOperation(queries.getRoompage,{\r\n\t\t// \t\troomid : result\r\n\t\t// }))\r\n\t\t// const userName = getPlayersInTheRoom.data.getRoompage.players;\r\n\t\t\t\t\t\t\r\n\t\tvar nameWeGot1 = this.userName[0];\r\n\t\tconst result1 = await client.query({\r\n\t\t\tquery: gql(queries.getQw),\r\n\t\t\tvariables: {\r\n\t\t\t\tusername: nameWeGot1\r\n\t\t\t},\r\n\t\t\tfetchPolicy: 'network-only',\r\n\t\t});\r\n\r\n\t\tvar nameWeGot2 = this.userName[1];\r\n\t\t\t const result2 = await client.query({\r\n\t\t\tquery: gql(queries.getQw),\r\n\t\t\tvariables: {\r\n\t\t\t\tusername: nameWeGot2\r\n\t\t\t},\r\n\t\t\tfetchPolicy: 'network-only',\r\n\t\t});\r\n\r\n\t\tvar nameWeGot3 = this.userName[2];\r\n\t\t\t const result3 = await client.query({\r\n\t\t\tquery: gql(queries.getQw),\r\n\t\t\tvariables: {\r\n\t\t\t\tusername: nameWeGot3\r\n\t\t\t},\r\n\t\t\tfetchPolicy: 'network-only',\r\n\t\t});\r\n\r\n\t\tvar nameWeGot4 = this.userName[3];\r\n\t\t\t const result4 = await client.query({\r\n\t\t\tquery: gql(queries.getQw),\r\n\t\t\tvariables: {\r\n\t\t\t\tusername: nameWeGot4\r\n\t\t\t},\r\n\t\t\tfetchPolicy: 'network-only',\r\n\t\t});\r\n\t\tlet x1=result1.data.getQw.x\r\n\t\tlet y1=result1.data.getQw.y\r\n\t\tlet x2=result2.data.getQw.x\r\n\t\tlet y2=result2.data.getQw.y\r\n\t\tlet x3=result3.data.getQw.x\r\n\t\tlet y3=result3.data.getQw.y\r\n\t\tlet x4=result4.data.getQw.x\r\n\t\tlet y4=result4.data.getQw.y\r\n\t\tthis.player[0].setX(x1)\r\n\t\tthis.player[0].setY(y1)\r\n\t\tthis.player[1].setX(x2)\r\n\t\tthis.player[1].setY(y2)\r\n\t\tthis.player[2].setX(x3)\r\n\t\tthis.player[2].setY(y3)\r\n\t\tthis.player[3].setX(x4)\r\n\t\tthis.player[3].setY(y4)\r\n\r\n\t\tthis.playername.text=this.userName[result1.data.getQw.seat%4]+' turn'\r\n\r\n\t\tlet arrange=result1.data.getQw.seat\r\n\t\tlet cardleft=result1.data.getQw.cardLeft\r\n\r\n\t\t\tif(result1.data.getQw.whichCard!=-1){\r\n\t\t\t\t\tthis.cardSet[result1.data.getQw.whichCard].setX(20+arrange*10)\r\n\t\t\t\t\tthis.cardSet[result1.data.getQw.whichCard].setY(100)\r\n\t\t\t\t\t}\r\n\t\t\tif(result2.data.getQw.whichCard!=-1){\r\n\t\t\t\tthis.cardSet[result2.data.getQw.whichCard].setX(900+arrange*10)\r\n\t\t\t\tthis.cardSet[result2.data.getQw.whichCard].setY(100)\r\n\t\t }\r\n\t\t if(result3.data.getQw.whichCard!=-1){\r\n\t\t\tthis.cardSet[result3.data.getQw.whichCard].setX(20+arrange*10)\r\n\t\t\tthis.cardSet[result3.data.getQw.whichCard].setY(400)\r\n\t }\r\n\t if(result4.data.getQw.whichCard!=-1){\r\n\t\tthis.cardSet[result4.data.getQw.whichCard].setX(900+arrange*10)\r\n\t\tthis.cardSet[result4.data.getQw.whichCard].setY(400)\r\n\t\t}\r\n\t\t\r\n\t\tif(cardleft<=0){\r\n\t\t\tthis.newBoard=this.add.image(400, 80, 'boardbg');\r\n\t\t\tthis.newBoard.setOrigin(0, 0).setScale(2.8,2.8);\r\n\t\t\tthis.playername.text='Game Over'\r\n\t\t}\r\n\t})();\r\n}\r\n\t\r\n\r\nifHas(the_card_get,num){\r\n\tlet result=[]\r\n\tswitch(num){\r\n\tcase 1:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==0)\r\n\t\tbreak;\r\n\tcase 2:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==1)\r\n\t\tbreak;\r\n\tcase 3:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==2)\r\n\t\tbreak;\r\n\tcase 4:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==3)\r\n\t\tbreak;\r\n\tcase 5:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==4)\r\n\t\tbreak;\r\n\tcase 6:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==5)\r\n\t\tbreak;\r\n\tcase 7:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==6)\r\n\t\tbreak;\r\n\tcase 8:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==7)\r\n\t\tbreak;\r\n\tcase 9:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==8)\r\n\t\tbreak;\r\n\tcase 10:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==9)\r\n\t\tbreak;\r\n\tcase 11:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==10)\r\n\t\tbreak;\r\n\tcase 12:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==11)\r\n\t\tbreak;\r\n\tcase 13:\r\n\t\tresult=the_card_get.filter(the_card_get=>the_card_get%13==12)\r\n\t\tbreak;\r\n\t}\r\n\treturn result\r\n}\r\n\r\ndecideSuit(the_card_get){\r\n\tfor(var i=0;i<the_card_get.length;i++){\r\n\t\tif(the_card_get[i]>=0&&the_card_get[i]<=12){\r\n\t\t\tthis.spade.push(the_card_get[i])\r\n\t\t}else if(the_card_get[i]>=13&&the_card_get[i]<=25){\r\n\t\t\tthis.club.push(the_card_get[i])\r\n\t\t}else if(the_card_get[i]>=26&&the_card_get[i]<=38){\r\n\t\t\tthis.dia.push(the_card_get[i])\r\n\t\t}else{\r\n\t\t\tthis.heart.push(the_card_get[i])\r\n\t\t}\r\n\t}\r\n}\r\n\r\ncheckPH(the_card_get){\r\n\tthis.rank=0\r\n\tfor(var m=1;m<=13;m++){\r\n\t\tthis.numOfEach.push(this.ifHas(the_card_get,m).length)\r\n\t}\r\n\tconsole.log(this.numOfEach)\r\n\tif(this.numOfEach.includes(4)&&this.rank==0){\r\n\t\tconsole.log('4 of a kind')\r\n\t\tthis.rank=1\r\n\t}\r\n\tif(this.numOfEach.includes(3)&&this.numOfEach.includes(2)&&this.rank==0){\r\n\t\tconsole.log('full house')\r\n\t\tthis.rank=2\r\n\t}\r\n\tif(this.spade.length>=5||this.club.length>=5||this.heart.length>=5||this.dia.length>=5&&this.rank==0){\r\n\t\tconsole.log('Flush')\r\n\t\tthis.rank=3\r\n\t}\r\n\tif(this.numOfEach.includes(3)&&!this.numOfEach.includes(2)&&this.rank==0){\r\n\t\tconsole.log('three of a kind')\r\n\t\tthis.rank=4\r\n\t}\r\n\tif(!this.numOfEach.includes(3)&&this.numOfEach.includes(2)&&this.rank==0){\r\n\t\tconsole.log('pair')\r\n\t\tthis.rank=5\r\n\t}\r\n\t\r\n}\r\n\tupdate(time, delta) {\r\n\t\t //this.updateScreen()\r\n\t\r\n\t\t\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}